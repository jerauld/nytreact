(window.webpackJsonpmern=window.webpackJsonpmern||[]).push([[0],{32:function(e,t,a){e.exports=a(61)},37:function(e,t,a){},38:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),l=a.n(c),i=(a(37),a(38),a(27)),o=a(6),s=a(24),d=a(25),u=a(30),m=a(26),v=a(31),f=function(e){return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("h5",{className:"card-title"},e.title),r.a.createElement("p",{className:"card-text"},e.date.substring(0,10))),r.a.createElement("div",{className:"col-md-6 text-right"},r.a.createElement("a",{href:e.url,target:"_blank",className:"btn btn-outline-success btn-sm mr-1"},"View Article"),r.a.createElement("button",{className:"btn btn-outline-danger btn-sm",onClick:function(){return e.handleDeleteButton(e._id)}},"Remove from Saved")))))},h=function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"card mb-5"},r.a.createElement("div",{className:"card-header text-center"},r.a.createElement("h2",null,"Saved Articles")),r.a.createElement("div",{className:"card-body"},e.renderSaved())))},p=function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"card mb-5"},r.a.createElement("div",{className:"card-header text-center"},r.a.createElement("h2",null,"Search")),r.a.createElement("div",{className:"card-body text-center"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"topicInput"},"Topic"),r.a.createElement("input",{type:"text",className:"form-control",id:"topicInput",onChange:e.topicInput})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"startYearInput"},"Start Year"),r.a.createElement("input",{type:"text",className:"form-control",id:"startYearInput",onChange:e.startYearInput})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"endYearInput"},"End Year"),r.a.createElement("input",{type:"text",className:"form-control",id:"endYearInput",onChange:e.endYearInput})),r.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:e.formSubmit},"Search")))))},E=function(e){return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("h5",{className:"card-title"},e.title),r.a.createElement("p",{className:"card-text"},e.date.substring(0,10))),r.a.createElement("div",{className:"col-md-6 text-right"},r.a.createElement("a",{href:e.url,target:"_blank",className:"btn btn-outline-success btn-sm mr-1"},"View Article"),r.a.createElement("button",{className:"btn btn-outline-info btn-sm",onClick:function(){return e.handleSaveButton(e._id)}},"Save Article")))))},b=a(9),g=a.n(b),N={searchNYT:function(e,t,a){var n="https://api.nytimes.com/svc/search/v2/articlesearch.json?api-key=".concat("769ae556259949f9bb72bf4556f8d25c","&q=").concat(e,"&begin_date=").concat(t,"0101&end_date=").concat(a,"0101");return g.a.get(n)},getArticle:function(){return g.a.get("/api/articles")},saveArticle:function(e){return g.a.post("/api/articles",e)},deleteArticle:function(e){return g.a.delete("/api/articles/".concat(e))}},S=function(e){return r.a.createElement("div",{className:"jumbotron jumbotron-fluid"},r.a.createElement("h1",{className:"display-4 text-center"},e.appName),r.a.createElement("p",{className:"lead text-center"},e.subtitle))},w=function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"card  mb-5"},r.a.createElement("div",{className:"card-header text-center"},r.a.createElement("h2",null,"Search Results")),r.a.createElement("div",{className:"card-body"},e.renderArticles())))},A=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={topic:"",startYear:"",endYear:"",articles:[],saved:[]},a.renderArticles=function(){return a.state.articles.map(function(e){return r.a.createElement(E,{_id:e._id,key:e._id,title:e.headline.main,date:e.pub_date,url:e.web_url,handleSaveButton:a.handleSaveButton,getSavedArticles:a.getSavedArticles})})},a.renderSaved=function(){return a.state.saved.map(function(e){return r.a.createElement(f,{_id:e._id,key:e._id,title:e.title,date:e.date,url:e.url,handleDeleteButton:a.handleDeleteButton,getSavedArticles:a.getSavedArticles})})},a.handleTopicInput=function(e){a.setState({topic:e.target.value})},a.handleStartYearInput=function(e){a.setState({startYear:e.target.value})},a.handleEndYearInput=function(e){a.setState({endYear:e.target.value})},a.handleFormSubmit=function(e){e.preventDefault(),N.searchNYT(a.state.topic,a.state.startYear,a.state.endYear).then(function(e){a.setState({articles:e.data.response.docs})})},a.getSavedArticles=function(){N.getArticle().then(function(e){a.setState({saved:e.data})})},a.handleSaveButton=function(e){var t=a.state.articles.find(function(t){return t._id===e}),n={title:t.headline.main,date:t.pub_date,url:t.web_url};N.saveArticle(n).then(a.getSavedArticles())},a.handleDeleteButton=function(e){N.deleteArticle(e).then(a.getSavedArticles())},a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getSavedArticles()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(S,{appName:"New York Times React Search",subtitle:"Search for and save articles of interest."}),r.a.createElement("div",{className:"container"},r.a.createElement(p,{topicInput:this.handleTopicInput,startYearInput:this.handleStartYearInput,endYearInput:this.handleEndYearInput,formSubmit:this.handleFormSubmit}),r.a.createElement(w,{renderArticles:this.renderArticles}),r.a.createElement(h,{renderSaved:this.renderSaved})))}}]),t}(n.Component),Y=function(){return r.a.createElement(i.a,null,r.a.createElement("div",null,r.a.createElement(o.a,{path:"/",component:A})))},y=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function k(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}l.a.render(r.a.createElement(Y,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");y?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):k(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):k(e)})}}()}},[[32,1,2]]]);
//# sourceMappingURL=main.480c9d68.chunk.js.map